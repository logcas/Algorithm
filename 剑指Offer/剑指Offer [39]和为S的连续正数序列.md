# 剑指Offer [39]和为S的连续正数序列

标签（空格分隔）： 算法

---

小明很喜欢数学,有一天他在做数学作业时,要求计算出9~16的和,他马上就写出了正确答案是100。但是他并不满足于此,他在想究竟有多少种连续的正数序列的和为100(至少包括两个数)。没多久,他就得到另一组连续正数和为100的序列:18,19,20,21,22。现在把问题交给你,你能不能也很快的找出所有和为S的连续正数序列? Good Luck!

输出描述：
```
输出所有和为S的连续正数序列。序列内按照从小至大的顺序，序列间按照开始数字从小到大的顺序
```

## Solution
首先暴力法肯定行不通的。

看到连续就要想起滑动窗口的办法。

设立两个指针，l = 1，r = 2，通过扩大和缩小[l,r]的区间来获取连续数字。

1. 大于目标时，左指针右移缩小窗口。
2. 小于目标时，右指针右移放大窗口。

```javascript
function FindContinuousSequence(sum)
{
    // write code here
    // 滑动窗口解决
    // 设置两个指针 l r 分别代表左、右指针
    // 由于是递增的等差数列，所以合为 cur = (l + r) * (r - l + 1) / 2
    // （首项+尾项）* 项数 / 2
    
    let l = 1, r = 2;
    let res = [];
    while(l < r) {
        let cur = (l + r) * (r - l + 1) / 2;
        if(cur === sum) {
            let tmp = [];
            for(let i = l;i <= r; ++i) {
                tmp.push(i);
            }
            res.push(tmp);
            ++l;
        }
        if(cur < sum) {
            ++r;
        }
        if(cur > sum) {
            ++l;
        }
    }
    return res;
}
```
